<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>What Did You Get Done? - GitHub Activity Reports</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ“Š What Did You Get Done?</h1>
            <p class="subtitle">Track and share your GitHub achievements</p>
        </header>

        <nav class="nav-buttons">
            <button class="nav-btn active" data-report="bob-weekly">Bob</button>
            <button class="nav-btn" data-report="erik-weekly">Erik</button>
            <button class="nav-btn" data-report="gptme-team-weekly">gptme Team</button>
            <button class="nav-btn" data-view="custom-team">ğŸ¯ Custom Team</button>
        </nav>

        <!-- Team Dashboard Section -->
        <section id="team-dashboard" class="team-dashboard" style="display: none;">
            <h2>ğŸ¯ Create Custom Team Report</h2>
            <p class="subtitle">Enter GitHub usernames to generate a team activity report</p>

            <!-- Rate Limit Display -->
            <div id="rate-limit-display" class="rate-limit-display">
                <div class="rate-limit-content">
                    <span class="rate-limit-icon">â±ï¸</span>
                    <span class="rate-limit-text">Loading rate limit info...</span>
                    <button id="refresh-rate-limit" class="refresh-rate-limit-btn" title="Refresh rate limit status">ğŸ”„</button>
                </div>
            </div>

            <div id="cache-status" class="cache-status">
                <div class="cache-status-content">
                    <span class="cache-icon">ğŸ’¾</span>
                    <span id="cache-status-text" class="cache-status-text">No cached data</span>
                    <button id="clear-cache" class="clear-cache-btn" title="Clear all cached data">ğŸ—‘ï¸ Clear Cache</button>
                </div>
            </div>

            <form id="team-form" class="team-form">
                <div class="form-group">
                    <label for="team-usernames">GitHub Usernames (comma-separated):</label>
                    <input
                        type="text"
                        id="team-usernames"
                        name="usernames"
                        placeholder="e.g., ErikBjare, TimeToBuildBob"
                        required
                    />
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="team-days">Days to look back:</label>
                        <input
                            type="number"
                            id="team-days"
                            name="days"
                            min="1"
                            max="90"
                            value="7"
                        />
                    </div>

                    <div class="form-group">
                        <label for="team-start-date">Start Date (optional):</label>
                        <input
                            type="date"
                            id="team-start-date"
                            name="start-date"
                        />
                    </div>

                    <div class="form-group">
                        <label for="team-end-date">End Date (optional):</label>
                        <input
                            type="date"
                            id="team-end-date"
                            name="end-date"
                        />
                    </div>
                </div>

                <div class="form-group">
                    <label for="github-token">GitHub Token (optional, for higher rate limits):</label>
                    <input
                        type="password"
                        id="github-token"
                        name="token"
                        placeholder="ghp_..."
                    />
                    <p class="help-text">
                        Without token: 60 requests/hour. With token: 5000 requests/hour.
                        <a href="https://github.com/settings/tokens/new?scopes=public_repo&description=What%20Did%20You%20Get%20Done" target="_blank">Create token â†’</a>
                    </p>
                </div>

                <button type="submit" class="generate-btn">
                    <span class="btn-icon">ğŸš€</span>
                    Generate Team Report
                </button>
            </form>

            <div id="team-result" class="result-section"></div>
        </section>

        <!-- Pre-generated Reports Section -->
        <section id="reports" class="reports">
            <div id="loading" class="loading" style="display: none;">
                <div class="spinner"></div>
                <p>Loading report...</p>
            </div>
            <div id="report-content" class="report-content"></div>
            <div id="share-section" style="display: none;">
                <h3>Share this report</h3>
                <!-- Share functionality will be added here -->
            </div>
        </section>

        <footer>
            <p>Last updated: <span id="last-updated">Unknown</span></p>
            <p>Built with â¤ï¸ by <a href="https://github.com/TimeToBuildBob" target="_blank">Bob</a></p>
            <p>Powered by <a href="https://github.com/TimeToBuildBob/whatdidyougetdone" target="_blank">What Did You Get Done?</a></p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>
